{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=5)}([function(e,t,n){var r=n(1);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(3)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,\".select-container {\\n  display: flex;\\n  align-items: left;\\n  justify-content: center;\\n  flex-direction: column;\\n\\n  width: 100%;\\n  height: 100%;\\n  \\n\\n  box-sizing: border-box;\\n\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-size: 13px;\\n  /* padding: 5px 5px 5px 5px; */\\n\\n}\\n.select-input {\\n  width: 100%;\\n  height: 100%;\\n  \\n  box-sizing: border-box;\\n  \\n  display: flex;\\n  flex-flow: row wrap;\\n  overflow: hidden;\\n}\\n.select-input__input-field {\\n  min-width: 20%;\\n  min-height: 20px;\\n  box-sizing: border-box;\\n  margin-top: 5px;\\n  border: none;\\n}\\n.select-input__input-field:hover {\\n  cursor: default;\\n}\\n.select-input__input-field:focus {\\n  outline: none;\\n}\\n.select-input__input-field::selection {\\n  background-color:rgb(0, 119, 255, 0.2);\\n}\\n.select-input__clear-icon {\\n  margin-left: 1px;\\n  display: block;\\n  cursor: pointer;\\n}\\n.select-variants-wrapper {\\n  box-sizing: border-box;\\n  display: none;\\n  position: relative;\\n}\\n.select-variants {\\n  width: 100%;\\n  height: 90px;\\n  border: 1px solid black;\\n  \\n  overflow: auto;\\n  /* overflow: scroll; */\\n  position: absolute;\\n\\n  box-sizing: border-box;\\n\\n\\n}\\n.select-variants__element {\\n  width: 100%;\\n  height: 30px;\\n  box-sizing: border-box;\\n  padding-left: 5px;\\n\\n  \\n\\n  /* display: flex;\\n  align-items: flex-end;\\n  justify-content: center; */\\n  /* margin: auto 0; */\\n  line-height: 30px;\\n  /* text-align: center; */\\n  /* position: relative;\\n  top: 50%;\\n  transform: translateY(-50%); */\\n\\n  cursor: pointer;\\n\\n  border: none;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  display: block;\\n}\\n.select-variants__element_empty {\\n  height: 30px;\\n  box-sizing: border-box;\\n  padding-left: 5px;\\n  color: rgb(117, 117, 117);\\n  display: flex;\\n  align-items: center;\\n}\\n.select-variants__element:hover{\\n  background-color:rgb(0, 119, 255, 0.2);\\n}\\n/* .select-variants__element:focus{\\n  background-color:rgb(0, 119, 255, 0.2);\\n} */\\n\\n.select-input-wrapper__selected-element {\\n  border: 1px solid black;\\n  margin-right: 2px;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: center;\\n\\n  box-sizing: border-box;\\n  /* display: block; */\\n  /* overflow: hidden; */\\n  /* text-overflow: ellipsis; */\\n  white-space: nowrap;\\n\\n  /* max-height: 20px; */\\n\\n  min-height: 20px;\\n  margin-top: 5px;\\n  border-radius: 5px;\\n  /* flex-wrap: wrap; */\\n}\\n.select-input-wrapper__selected-element-wrapper {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n\\n\\n\\n.select-control {\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: row;\\n\\n  width: 100%;\\n\\n  border: 1px solid black;\\n  border-radius: 5px 5px 0px 0px;\\n  padding: 0px 5px 5px 5px;\\n}\\n.select-control.empty .select-control__clear-icon {\\n  display: none;\\n}\\n.select-control__clear-icon {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  padding-top: 5px;\\n  \\n  /* display: none; */\\n  /* display: block; */\\n}\",\"\"])},function(e,t,n){\"use strict\";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||\"\",r=e[3];if(!r)return n;if(t&&\"function\"==typeof btoa){var i=(o=r,\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+\" */\"),s=r.sources.map(function(e){return\"/*# sourceURL=\"+r.sourceRoot+e+\" */\"});return[n].concat(s).concat([i]).join(\"\\n\")}var o;return[n].join(\"\\n\")}(t,e);return t[2]?\"@media \"+t[2]+\"{\"+n+\"}\":n}).join(\"\")},t.i=function(e,n){\"string\"==typeof e&&(e=[[null,e,\"\"]]);for(var r={},i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(i=0;i<e.length;i++){var o=e[i];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]=\"(\"+o[2]+\") and (\"+n+\")\"),t.push(o))}},t}},function(e,t,n){var r,i,s={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),a=function(e){var t={};return function(e,n){if(\"function\"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),l=null,c=0,u=[],p=n(4);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=s[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(y(r.parts[o],t))}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(y(r.parts[o],t));s[r.id]={id:r.id,refs:1,parts:a}}}}function h(e,t){for(var n=[],r={},i=0;i<e.length;i++){var s=e[i],o=t.base?s[0]+t.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};r[o]?r[o].parts.push(a):n.push(r[o]={id:o,parts:[a]})}return n}function f(e,t){var n=a(e.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var r=u[u.length-1];if(\"top\"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if(\"bottom\"===e.insertAt)n.appendChild(t);else{if(\"object\"!=typeof e.insertAt||!e.insertAt.before)throw new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");var i=a(e.insertAt.before,n);n.insertBefore(t,i)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function b(e){var t=document.createElement(\"style\");if(void 0===e.attrs.type&&(e.attrs.type=\"text/css\"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return g(t,e.attrs),f(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,i,s;if(t.transform&&e.css){if(!(s=\"function\"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=s}if(t.singleton){var o=c++;n=l||(l=b(t)),r=w.bind(null,n,o,!1),i=w.bind(null,n,o,!0)}else e.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=function(e){var t=document.createElement(\"link\");return void 0===e.attrs.type&&(e.attrs.type=\"text/css\"),e.attrs.rel=\"stylesheet\",g(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,s=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||s)&&(r=p(r));i&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+\" */\");var o=new Blob([r],{type:\"text/css\"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,n,t),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute(\"media\",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){v(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");(t=t||{}).attrs=\"object\"==typeof t.attrs?t.attrs:{},t.singleton||\"boolean\"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto=\"head\"),t.insertAt||(t.insertAt=\"bottom\");var n=h(e,t);return d(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var o=n[i];(a=s[o.id]).refs--,r.push(a)}e&&d(h(e,t),t);for(i=0;i<r.length;i++){var a;if(0===(a=r[i]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete s[a.id]}}}};var m,x=(m=[],function(e,t){return m[e]=t,m.filter(Boolean).join(\"\\n\")});function w(e,t,n,r){var i=n?\"\":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var s=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}},function(e,t){e.exports=function(e){var t=\"undefined\"!=typeof window&&window.location;if(!t)throw new Error(\"fixUrls requires window.location\");if(!e||\"string\"!=typeof e)return e;var n=t.protocol+\"//\"+t.host,r=n+t.pathname.replace(/\\/[^\\/]*$/,\"/\");return e.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(e,t){var i,s=t.trim().replace(/^\"(.*)\"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(s)?e:(i=0===s.indexOf(\"//\")?s:0===s.indexOf(\"/\")?n+s:r+s.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(i)+\")\")})}},function(e,t,n){\"use strict\";n.r(t);n(0);const r=\"select-container\",i=\"select-input\",s=\"select-input__input-field\",o=\"select-input__clear-icon\",a=\"fas\",l=\"fa-times\",c=\"select-variants-wrapper\",u=\"select-variants\",p=\"select-variants__element\",d=\"select-variants__element_empty\",h=\"select-input-wrapper__selected-element\",f=\"select-control\",v=\"select-control__clear-icon\",b=\"rgb(0, 119, 255, 0.2)\",g=\"rgb(255, 255, 255)\";function y(e,t=\"\"){let n=document.createElement(e);return n.className=t,n}class m{constructor(e){this.userSelectWrapper=e,this.selectWrapper=y(\"div\",r),this.closedSelecWrapper=y(\"div\",f),this.inputWrapper=y(\"div\",i),this.clearIcon=y(\"div\",o+\" \"+a+\" \"+l+\" \"+v),this.clearIcon.style.visibility=\"hidden\",this.inputField=y(\"input\",s),this.inputField.placeholder=\"Select...\",this.searchedVariantsWrapper=y(\"div\",c),this.searchedVariants=y(\"div\",u),this.inputWrapper.append(this.inputField),this.selectWrapper.append(this.closedSelecWrapper),this.closedSelecWrapper.append(this.inputWrapper),this.closedSelecWrapper.append(this.clearIcon),this.searchedVariantsWrapper.append(this.searchedVariants),this.selectWrapper.append(this.searchedVariantsWrapper),this.userSelectWrapper.append(this.selectWrapper),this.spisok=[]}onInput(e){this.inputField.addEventListener(\"input\",e,!1)}onMousedown(e){this.selectWrapper.addEventListener(\"mousedown\",e,!1)}onFocus(e){this.inputField.addEventListener(\"focus\",e,!1)}onBlur(e){this.inputField.addEventListener(\"blur\",e,!1)}onKeydown(e){this.inputField.addEventListener(\"keydown\",e,!1)}onClear(e){this.clearIcon.addEventListener(\"mousedown\",e,!1)}deleteSearchResults(){for(;this.searchedVariants.hasChildNodes();)this.searchedVariants.removeChild(this.searchedVariants.lastChild)}drawEmptyResult(e){let t=y(\"div\",d);t.innerHTML=e,this.searchedVariants.style.height=\"33px\",this.searchedVariantsWrapper.style.display=\"block\",this.searchedVariants.append(t)}drawSearchResults(e,t){let n=document.createDocumentFragment();console.log(\"draw\"),e.forEach(e=>{let r=y(\"div\",p);r.innerHTML=e,n.append(r),r.addEventListener(\"mousedown\",t,!1),r.addEventListener(\"mousemove\",e=>{this.currentFocus.style.background=g,this.currentFocus=e.target,this.currentFocus.style.background=b},!1)}),this.searchedVariants.append(n),this.searchedVariants.style.height=\"90px\",this.searchedVariantsWrapper.style.display=\"block\"}selectResult(e){let t=y(\"div\",o+\" \"+a+\" \"+l),n=y(\"div\",h);n.innerHTML=e,n.append(t),this.inputWrapper.insertBefore(n,this.inputField)}deleteSelectedResult(e){if(console.log(e),e)this.inputWrapper.removeChild(e);else{let e=this.inputWrapper.childElementCount-1;for(let t=0;t<e;t++)this.inputWrapper.removeChild(this.inputWrapper.firstChild)}this.spisok.dlina.length&&(this.closedSelecWrapper.style.display=\"flex\")}giveInitialFocus(){this.currentFocus=this.searchedVariants.firstChild,this.currentFocus.style.background=b}moveFocusUp(){this.currentFocus.style.background=g,null===this.currentFocus.previousSibling?this.currentFocus=this.currentFocus.parentNode.lastChild:this.currentFocus=this.currentFocus.previousSibling,this.currentFocus.style.background=b,this.currentFocus.scrollIntoView({block:\"end\",behavior:\"smooth\"})}moveFocusDown(){this.currentFocus.style.background=g,null===this.currentFocus.nextSibling?this.currentFocus=this.currentFocus.parentNode.firstChild:this.currentFocus=this.currentFocus.nextSibling,this.currentFocus.style.background=b,this.currentFocus.scrollIntoView({block:\"end\",behavior:\"smooth\"})}}class x{constructor({id:e,initialState:t,context:n,states:r,actions:i}){Object.assign(this,{id:e,context:n,states:r,actions:i}),this.currentState=t}transition(e,t){w.push(this);let n=this.states[this.currentState];try{(function(e){if(!this.states[this.currentState])throw new Error(`there is no such state ${this.currentState}`);if(!n.on)throw new Error(`there is no \"on\" action in state ${this.currentState}`);if(!n.on.hasOwnProperty(e))throw new Error(`there is no transaction ${e} in \"on\" field`)}).call(this,e),n.on[e].service&&n.on[e].service(t),w.pop()}catch(e){console.log(e)}}}let w=[];function S(e){let t=this.states[this.currentState];if(t[e])if(\"function\"==typeof t[e])t[e]();else{if(!this.actions[t[e]])throw new Error(`there is no such ${e} action in \"actions\" field`);this.actions[t[e]]()}}function F(){const e=w[w.length-1];return[()=>e.currentState,t=>{if(w.push(e),!e.states[t])throw new Error(`can not set new state, ${t} doesn't exist`);S.call(e,\"onExit\"),e.currentState=t,S.call(e,\"onEntry\"),w.pop()}]}function _(){const e=w[w.length-1];return[e.context,t=>{Object.assign(e.context,t)}]}function E(e,t){return w[w.length-1].actions[e](t)}function L(e){const t=(n={initialState:\"closed\",context:{textInSearchList:\"\",searchResults:[],selectedVariants:new Set},states:{empty:{onEntry:\"enterEmptyListState\",on:{close:{service:()=>{E(\"close\")}},open:{service:e=>{E(\"open\",e)}},clear:{service:e=>{E(\"clear\",e)}},clearAll:{service:()=>{E(\"clearAll\")}},fill:{service:e=>{E(\"fill\",e)}},search:{service:async e=>{const[t,n]=F(),[r,i]=_();let s=await async function(e){let t=[];try{const n=await fetch(`https://api.hh.ru/suggests/areas?text=${e}`);return(await n.json()).items.forEach(e=>t.push(e.text)),t}catch(e){return console.log(e)}}(e);if(\"closed\"!==t()){if(i({searchResults:s=s.filter(e=>!r.selectedVariants.has(e))}),i({textInSearchList:\"Type to search...\"}),!s.length)return i({textInSearchList:\"Nothing found\"}),void n(\"empty\");n(\"filled\")}}}}},closed:{onEntry:\"enterClosedListState\",on:{close:{},open:{service:e=>{E(\"open\",e)}},clear:{service:e=>{E(\"clear\",e)}},clearAll:{service:()=>{E(\"clearAll\")}},fill:{service:e=>{E(\"fill\",e)}}}},filled:{onEntry:\"enterFilledListState\",on:{close:{service:()=>{E(\"close\")}},open:{service:e=>{E(\"open\",e)}},clear:{service:e=>{E(\"clear\",e)}},clearAll:{service:()=>{E(\"clearAll\")}},select:{service:()=>{let n=e.currentFocus.textContent;const[r,i]=F(),[s,o]=_();e.selectResult(n),e.inputField.previousSibling.lastChild.addEventListener(\"mousedown\",e=>{t.transition(\"clear\",e.target)},!1),s.selectedVariants.add(n),e.inputField.value=\"\",i(\"empty\")}},fill:{service:e=>{E(\"fill\",e)}},moveFocusUp:{service:()=>{e.moveFocusUp()}},moveFocusDown:{service:()=>{e.moveFocusDown()}}}}},actions:{enterEmptyListState:()=>{console.log(\"enter empty\");const t=_()[0];e.deleteSearchResults(),e.drawEmptyResult(t.textInSearchList),e.inputField.focus()},enterClosedListState:()=>{console.log(\"enter close\");const[t,n]=_();e.searchedVariantsWrapper.style.display=\"none\",e.deleteSearchResults(),n({searchResults:[]}),e.inputField.value=\"\",e.inputField.blur(),n({textInSearchList:\"Type to search...\"})},enterFilledListState:()=>{console.log(\"enter filled\");const n=_()[0];e.deleteSearchResults(),e.drawSearchResults(n.searchResults,e=>{t.transition(\"select\",e.target.innerHTML)}),e.giveInitialFocus()},close:()=>{const[e,t]=F();t(\"closed\")},open:e=>{const[t,n]=F(),[r,i]=_();i({textInSearchList:e}),n(\"empty\")},clear:t=>{const[n,r]=_(),[i,s]=F();n.selectedVariants.delete(t.parentElement.textContent),e.deleteSelectedResult(t.parentElement),s(\"empty\")},clearAll:()=>{const[t,n]=_(),[r,i]=F();t.selectedVariants.clear(),e.deleteSelectedResult(),i(\"empty\")},fill:e=>{const[t,n]=F(),[r,i]=_();i({searchResults:e}),n(\"filled\")}}},new x(n));var n;return t}const k=e=>t=>{if(\"filled\"===e.currentState)switch(t.key){case\"Escape\":e.transition(\"close\");break;case\"ArrowUp\":t.preventDefault(),e.transition(\"moveFocusUp\");break;case\"ArrowDown\":t.preventDefault(),e.transition(\"moveFocusDown\");break;case\"Enter\":e.transition(\"select\")}else switch(t.key){case\"Escape\":e.transition(\"close\");break;case\"ArrowUp\":case\"ArrowDown\":t.preventDefault()}},R=e=>t=>{console.log(\"suka\"),t.target.value.length<2?e.transition(\"open\",\"Type to search...\"):(e.transition(\"open\",\"Search in progress...\"),e.transition(\"search\",t.target.value))},j=400;!function(e){const t=new m(e),n=L(t);t.onMousedown(()=>{event.preventDefault(),t.inputField.focus()}),t.onFocus(()=>n.transition(\"open\",\"Type to search...\")),t.onBlur(()=>n.transition(\"close\")),t.onInput(()=>{event.target.value.length?event.target.style.width=`${13*event.target.value.length}px`:event.target.style.width=\"1px\"}),t.onKeydown(k(n)),t.onClear(()=>n.transition(\"clearAll\"));let r=function(e,t){let n;return r=>{clearTimeout(n),n=setTimeout(()=>e(r),t)}}(R(n),j);t.onInput(r)}(document.getElementById(\"select-wrapper\"))}]);","extractedComments":[]}